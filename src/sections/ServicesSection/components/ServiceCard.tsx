import type { ServiceItem } from "../../../shared/types/services";
import styles from "../ServicesSection.module.css";

// Иконки для карточек
function WrenchIcon() {
  return (
    <svg viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M18.3333 4.16667L16.6667 5.83333L14.1667 3.33333L15.8333 1.66667C15.5 1.33333 15 1.16667 14.5 1.16667C13.4167 1.16667 12.5 2.08333 12.5 3.16667C12.5 3.5 12.5833 3.83333 12.6667 4.08333L4.08333 12.6667C3.83333 12.5833 3.5 12.5 3.16667 12.5C2.08333 12.5 1.16667 13.4167 1.16667 14.5C1.16667 15 1.33333 15.5 1.66667 15.8333L3.33333 14.1667L5.83333 16.6667L4.16667 18.3333C4.5 18.6667 5 18.8333 5.5 18.8333C6.58333 18.8333 7.5 17.9167 7.5 16.8333C7.5 16.5 7.41667 16.1667 7.33333 15.9167L15.9167 7.33333C16.1667 7.41667 16.5 7.5 16.8333 7.5C17.9167 7.5 18.8333 6.58333 18.8333 5.5C18.8333 5 18.6667 4.5 18.3333 4.16667Z"
        stroke="currentColor"
        strokeWidth="1.5"
        strokeLinecap="round"
        strokeLinejoin="round"
      />
    </svg>
  );
}

function GearIcon() {
  return (
    <svg viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M10 12.5C11.3807 12.5 12.5 11.3807 12.5 10C12.5 8.61929 11.3807 7.5 10 7.5C8.61929 7.5 7.5 8.61929 7.5 10C7.5 11.3807 8.61929 12.5 10 12.5Z"
        stroke="currentColor"
        strokeWidth="1.5"
        strokeLinecap="round"
        strokeLinejoin="round"
      />
      <path
        d="M16.1667 12.5C16.0557 12.7513 16.0226 13.0302 16.0716 13.3005C16.1206 13.5708 16.2495 13.8203 16.4417 14.0167L16.4917 14.0667C16.6466 14.2214 16.7695 14.4053 16.8534 14.6076C16.9373 14.8099 16.9805 15.0268 16.9805 15.2458C16.9805 15.4649 16.9373 15.6817 16.8534 15.8841C16.7695 16.0864 16.6466 16.2702 16.4917 16.425C16.337 16.5799 16.1531 16.7028 15.9508 16.7867C15.7484 16.8706 15.5316 16.9138 15.3125 16.9138C15.0935 16.9138 14.8766 16.8706 14.6743 16.7867C14.4719 16.7028 14.2881 16.5799 14.1333 16.425L14.0833 16.375C13.887 16.1828 13.6375 16.0539 13.3672 16.0049C13.0969 15.9559 12.818 15.989 12.5667 16.1C12.3203 16.2056 12.1124 16.3835 11.9704 16.6106C11.8284 16.8378 11.7589 17.1033 11.7717 17.3717V17.5C11.7717 17.9421 11.5959 18.3662 11.2833 18.6789C10.9707 18.9915 10.5465 19.1673 10.1044 19.1673C9.66228 19.1673 9.23816 18.9915 8.92556 18.6789C8.61296 18.3662 8.43713 17.9421 8.43713 17.5V17.4167C8.41759 17.1399 8.33506 16.8723 8.19619 16.6347C8.05732 16.3971 7.86605 16.1959 7.63713 16.0483C7.38578 15.9374 7.10696 15.9042 6.83668 15.9532C6.5664 16.0022 6.31683 16.1311 6.12046 16.3233L6.07046 16.3733C5.9157 16.5283 5.73185 16.6511 5.52952 16.735C5.32718 16.819 5.11034 16.8622 4.89129 16.8622C4.67225 16.8622 4.4554 16.819 4.25307 16.735C4.05074 16.6511 3.86689 16.5283 3.71213 16.3733C3.55722 16.2186 3.43431 16.0347 3.35043 15.8324C3.26654 15.63 3.22334 15.4132 3.22334 15.1942C3.22334 14.9751 3.26654 14.7583 3.35043 14.5559C3.43431 14.3536 3.55722 14.1698 3.71213 14.015L3.76213 13.965C3.95433 13.7686 4.08319 13.5191 4.13219 13.2488C4.18119 12.9785 4.14806 12.6996 4.03713 12.4483C3.9315 12.2019 3.7536 11.994 3.52648 11.852C3.29935 11.7101 3.03388 11.6406 2.76546 11.6533H2.63713C2.19502 11.6533 1.77089 11.4775 1.4583 11.1649C1.1457 10.8523 0.969862 10.4281 0.969862 9.98603C0.969862 9.54395 1.1457 9.11982 1.4583 8.80723C1.77089 8.49463 2.19502 8.31879 2.63713 8.31879H2.72046C2.99729 8.29926 3.26489 8.21672 3.50248 8.07785C3.74007 7.93898 3.94134 7.74771 4.08879 7.51879C4.19972 7.26745 4.23286 6.98862 4.18385 6.71834C4.13485 6.44806 4.006 6.1985 3.81379 6.00212L3.76379 5.95212C3.60889 5.79737 3.48597 5.61352 3.40209 5.41118C3.3182 5.20885 3.27501 4.99201 3.27501 4.77296C3.27501 4.55391 3.3182 4.33707 3.40209 4.13474C3.48597 3.93241 3.60889 3.74856 3.76379 3.59379C3.91856 3.43889 4.10241 3.31597 4.30474 3.23209C4.50707 3.1482 4.72391 3.10501 4.94296 3.10501C5.16201 3.10501 5.37885 3.1482 5.58118 3.23209C5.78351 3.31597 5.96737 3.43889 6.12213 3.59379L6.17213 3.64379C6.36851 3.836 6.61807 3.96485 6.88835 4.01385C7.15863 4.06286 7.43746 4.02972 7.68879 3.91879H7.77213C8.01855 3.81316 8.22641 3.63527 8.36845 3.40814C8.51049 3.18101 8.58001 2.91555 8.56713 2.64712V2.5C8.56713 2.05789 8.74296 1.63377 9.05556 1.32117C9.36816 1.00857 9.79228 0.832733 10.2344 0.832733C10.6765 0.832733 11.1006 1.00857 11.4132 1.32117C11.7258 1.63377 11.9017 2.05789 11.9017 2.5V2.58333C11.8888 2.85176 11.9583 3.11722 12.1004 3.34434C12.2424 3.57147 12.4503 3.74936 12.6967 3.855C12.948 3.96593 13.2269 3.99906 13.4972 3.95006C13.7674 3.90106 14.017 3.7722 14.2133 3.58L14.2633 3.53C14.4181 3.37509 14.602 3.25218 14.8043 3.16829C15.0066 3.0844 15.2235 3.04121 15.4425 3.04121C15.6616 3.04121 15.8784 3.0844 16.0808 3.16829C16.2831 3.25218 16.4669 3.37509 16.6217 3.53C16.7766 3.68476 16.8995 3.86862 16.9834 4.07095C17.0673 4.27328 17.1105 4.49012 17.1105 4.70917C17.1105 4.92821 17.0673 5.14506 16.9834 5.34739C16.8995 5.54972 16.7766 5.73357 16.6217 5.88833L16.5717 5.93833C16.3795 6.1347 16.2506 6.38427 16.2016 6.65455C16.1526 6.92483 16.1857 7.20366 16.2967 7.455V7.53833C16.4023 7.78475 16.5802 7.99261 16.8073 8.13465C17.0345 8.27669 17.2999 8.34621 17.5683 8.33333H17.6967C18.1388 8.33333 18.5629 8.50917 18.8755 8.82177C19.1881 9.13436 19.364 9.55848 19.364 10.0006C19.364 10.4427 19.1881 10.8668 18.8755 11.1794C18.5629 11.492 18.1388 11.6678 17.6967 11.6678H17.6133C17.3449 11.6807 17.0795 11.7502 16.8523 11.8923C16.6252 12.0343 16.4473 12.2422 16.3417 12.4886L16.1667 12.5Z"
        stroke="currentColor"
        strokeWidth="1.5"
        strokeLinecap="round"
        strokeLinejoin="round"
      />
    </svg>
  );
}

function DroneIcon() {
  return (
    <svg viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M3.33333 5C4.25381 5 5 4.25381 5 3.33333C5 2.41286 4.25381 1.66667 3.33333 1.66667C2.41286 1.66667 1.66667 2.41286 1.66667 3.33333C1.66667 4.25381 2.41286 5 3.33333 5Z"
        stroke="currentColor"
        strokeWidth="1.5"
        strokeLinecap="round"
        strokeLinejoin="round"
      />
      <path
        d="M16.6667 5C17.5871 5 18.3333 4.25381 18.3333 3.33333C18.3333 2.41286 17.5871 1.66667 16.6667 1.66667C15.7462 1.66667 15 2.41286 15 3.33333C15 4.25381 15.7462 5 16.6667 5Z"
        stroke="currentColor"
        strokeWidth="1.5"
        strokeLinecap="round"
        strokeLinejoin="round"
      />
      <path
        d="M3.33333 18.3333C4.25381 18.3333 5 17.5871 5 16.6667C5 15.7462 4.25381 15 3.33333 15C2.41286 15 1.66667 15.7462 1.66667 16.6667C1.66667 17.5871 2.41286 18.3333 3.33333 18.3333Z"
        stroke="currentColor"
        strokeWidth="1.5"
        strokeLinecap="round"
        strokeLinejoin="round"
      />
      <path
        d="M16.6667 18.3333C17.5871 18.3333 18.3333 17.5871 18.3333 16.6667C18.3333 15.7462 17.5871 15 16.6667 15C15.7462 15 15 15.7462 15 16.6667C15 17.5871 15.7462 18.3333 16.6667 18.3333Z"
        stroke="currentColor"
        strokeWidth="1.5"
        strokeLinecap="round"
        strokeLinejoin="round"
      />
      <path d="M5 3.33333H15" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
      <path d="M5 16.6667H15" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
      <path d="M4.58333 5L7.5 8.33333" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
      <path d="M15.4167 5L12.5 8.33333" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
      <path d="M4.58333 15L7.5 11.6667" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
      <path d="M15.4167 15L12.5 11.6667" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
      <path
        d="M10 11.6667C11.3807 11.6667 12.5 10.5474 12.5 9.16667C12.5 7.78595 11.3807 6.66667 10 6.66667C8.61929 6.66667 7.5 7.78595 7.5 9.16667C7.5 10.5474 8.61929 11.6667 10 11.6667Z"
        stroke="currentColor"
        strokeWidth="1.5"
        strokeLinecap="round"
        strokeLinejoin="round"
      />
    </svg>
  );
}

function SearchDroneIcon() {
  return (
    <svg viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
      <circle cx="9" cy="9" r="6" stroke="currentColor" strokeWidth="1.5" />
      <path d="M14 14L18 18" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" />
      {/* Мини-дрон внутри лупы */}
      <path d="M6 7.5H12" stroke="currentColor" strokeWidth="1" strokeLinecap="round" />
      <path d="M7 9L9 10.5L11 9" stroke="currentColor" strokeWidth="1" strokeLinecap="round" strokeLinejoin="round" />
      <circle cx="6" cy="7.5" r="1" stroke="currentColor" strokeWidth="0.8" />
      <circle cx="12" cy="7.5" r="1" stroke="currentColor" strokeWidth="0.8" />
    </svg>
  );
}

// Маппинг иконок
const iconComponents = {
  wrench: WrenchIcon,
  gear: GearIcon,
  drone: DroneIcon,
  "search-drone": SearchDroneIcon,
};

interface ServiceCardProps {
  service: ServiceItem;
}

export function ServiceCard({ service }: ServiceCardProps) {
  const { title, bullets, iconName, href } = service;
  const IconComponent = iconComponents[iconName];

  return (
    <div className={styles.serviceCard}>
      {/* Иконка */}
      <div className={styles.iconBox}>
        <IconComponent />
      </div>

      {/* Контент */}
      <div className={styles.cardContent}>
        <h3 className={styles.cardTitle}>{title}</h3>

        {/* Список пунктов */}
        <ul className={styles.bulletsList}>
          {bullets.map((bullet, index) => (
            <li key={index} className={styles.bulletItem}>
              <span className={styles.bulletMarker}>
                <span className={styles.bulletDot} />
              </span>
              <span className={styles.bulletText}>{bullet}</span>
            </li>
          ))}
        </ul>

        {/* Ссылка "Подробнее" */}
        <a href={href} className={styles.moreLink}>
          Подробнее
        </a>
      </div>
    </div>
  );
}
